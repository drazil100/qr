<!DOCTYPE html>
<html lang="en"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QR Code Generator</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<style>
img {
  width:600px;
  display:block;
  margin-left:auto;
  margin-right:auto;
}
body {
  background-color:#FFDDDD;
}
    .step-box {
      display: flex;
      gap: 1rem;
      align-items: flex-start;
      background: #fff;
      border-radius: 8px;
      padding: 1rem;
      margin-bottom: 1.5rem;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      min-height: 200px;
    }
    .step-box img {
      width: 300px;
      height: auto;
      border-radius: 6px;
      flex-shrink: 0;
    }
    .step-box .step-text {
      flex-grow: 1;
      text-align: left;
    }
        .step-box.no-image {
      min-height: auto;
      align-items: stretch;
    }
    @media (max-width: 800px) {
      .step-box img {
        width: 170px;
        height: auto;
      }
    }
</style>
  </head>
  <body>
    <div>
      <center>
        <a href="#generator">generator</a> | <a href="#assembly">assembly instructions</a> | <a href="#care">care instructions</a>
        <h1 id="generator">QR Code Generator</h1>
        SHP<input type="text" id="text1" maxlength="2" style="width: 20px;">01<br>
        SHP<input type="text" id="text2" maxlength="2" style="width: 20px;">01<br>
        SHP<input type="text" id="text3" maxlength="2" style="width: 20px;">01<br>
        SHP<input type="text" id="text4" maxlength="2" style="width: 20px;">01<br>
        SHP<input type="text" id="text5" maxlength="2" style="width: 20px;">01<br>
        <!-- <button onclick="generateQR()">Generate QR Codes</button> -->
        <div style="display:none;" id="qrcode1"></div>
        <div style="display:none;" id="qrcode2"></div>
        <div style="display:none;" id="qrcode3"></div>
        <div style="display:none;" id="qrcode4"></div>
        <div style="display:none;" id="qrcode5"></div>
        <br>
        <button onclick="generatePDF()">Generate PDF</button>
      </center>
    </div>
    <div style="max-width: 800px; width: 100%; margin: 0 auto; font-family: sans-serif; padding: 1rem;">
  <h1 id="assembly" style="text-align: center;">Assembly Instructions</h1>

  <!-- First image above the list -->
  <div style="text-align: center; margin-bottom: 1.5rem;">
    <img src="images/1.jpg" style="max-width: 100%; height: auto; border-radius: 8px;">
  </div>

  <!-- What you need step box -->
  <div class="step-box no-image">
    <div class="step-text">
      <h3>What you need</h3>
      <ul>
        <li>Access to a printer</li>
        <li>
          A QR Code <a href="QR_Slip.zip">Slip</a> / <a href="QR_Clip.zip">Clip</a>.
          <ul>
            <li><strong>NOTE:</strong> If you do not know anyone with a 3D printer, there are plenty of 3D printing services online you can pay to print these.</li>
            <li><strong>WARNING:</strong> The clip version is designed for my specific watch. It likely won't fit other watches without very precise adjustments.</li>
          </ul>
        </li>
        <li>Scissors</li>
        <li>Glue Stick</li>
        <li>Scrap paper or cardboard</li>
        <li>Clear Packing Tape</li>
        <li>Knife</li>
      </ul>
    </div>
  </div>

  <!-- Generate QR code step -->
  <div class="step-box no-image">
    <div class="step-text">
      <p><strong>Step 1:</strong> Generate your QR code using the form above.</p>
      <ul>
        <li>Up to 5 unique QR codes may be generated at a time.</li>
        <li>Each text field will generate 14 copies of the QR code.</li>
        <li>You do not need to fill out every text field.</li>
      </ul>
    </div>
  </div>

    <!-- Steps with images -->
  <div class="step-box">
    <a href="images/2.jpg">
      <img src="images/2.jpg" alt="Step 1">
    </a>
    <div class="step-text"><p><strong>Step 2:</strong> Cut out QR code.</p></div>
  </div>

  <div class="step-box">
    <a href="images/3.jpg">
      <img src="images/3.jpg" alt="Step 2">
    </a>
    <div class="step-text"><p><strong>Step 3:</strong> Place QR code face down on scrap of cardboard and coat the back with a glue stick.</p></div>
  </div>

  <div class="step-box">
    <a href="images/4.jpg">
      <img src="images/4.jpg" alt="Step 3">
    </a>
    <div class="step-text"><p><strong>Step 4:</strong> Stick QR code on QR Slip / Clip and let it dry for at least 5 minutes.</p></div>
  </div>

  <div class="step-box">
    <a href="images/5.jpg">
      <img src="images/5.jpg" alt="Step 4">
    </a>
    <div class="step-text"><p><strong>Step 5:</strong> Cover QR code with clear packing tape.</p></div>
  </div>

  <div class="step-box">
    <a href="images/6.jpg">
      <img src="images/6.jpg" alt="Step 5">
    </a>
    <div class="step-text">
      <p><strong>Step 6:</strong> Carefully use a sharp knife to score the edges of the tape.</p>
      <p style="font-size: 0.9em; color: #a00;"><strong>DISCLAIMER:</strong> There is a risk of cutting yourself using this method. While the results won't be as clean, you can just cut the tape with scisors to avoid this risk.</p>
    </div>
  </div>

  <div class="step-box">
    <a href="images/7.jpg">
      <img src="images/7.jpg" alt="Step 6">
    </a>
    <div class="step-text"><p><strong>Step 7:</strong> Peel away the tape.</p></div>
  </div>

  <div class="step-box">
    <a href="images/9.jpg">
      <img src="images/9.jpg" alt="Step 7">
    </a>
    <div class="step-text"><p><strong>Step 8:</strong> Run fingernail along edges of tape to make sure there is a good seal.</p></div>
  </div>
</div>


    <div style="max-width:60%;margin-left:auto;margin-right:auto;">
      <center><h1 id="care">Care Instructions</h1></center>
      <div class="step-box no-image">
      <ul>
        <li>Do not leave in a hot car.</li>
        <ul>
          <li>It could potentially deform in hot enough conditions.</li>
          <li>Print QR Slip / Clip in PETG for better heat resistance.</li>
        </ul>
        <li>Avoid getting it wet.</li>
        <ul>
          <li>While the packing tape SHOULD protect it against water damage, I have no clue how well the tape will hold up in practice.</li>
        </ul>
      </ul>
      </div>
    </div>

    <script>
      function generateQR() {
        for (section = 1; section <= 5; section++) {
          if (document.getElementById("text" + section).value == "") {
            continue;
          }
          document.getElementById("qrcode" + section).innerHTML = "";
          new QRCode(document.getElementById("qrcode" + section), {
            text: "SHP" + document.getElementById("text" + section).value.toUpperCase() + "01",
            width: 108,
            height: 108,
            correctLevel: QRCode.CorrectLevel.Q, // Set error correction to Q for balance
            margin: 1 // Ensure 1 module border
          });
        }
      }

      function generatePDF() {
        generateQR()
        const { jsPDF } = window.jspdf;
        const pdf = new jsPDF({ unit: 'mm', format: 'letter' });

        const qrSize = 16; // QR code size excluding border
        const borderSize = 1; // 1mm border
        const finalSize = qrSize + (borderSize * 2); // 18mm x 18mm total size
        const marginX = 10;
        const marginY = 10;
        const spacingX = 25; // Adjust spacing to fit 7 columns
        const spacingY = 25;
        const sectionSpacing = 5;
        const cols = 7; // Set columns to 7
        const rows = 2;
        const textOffsetX = marginX + cols * spacingX; // Position for text

        let totalRow = 0;
        let skipped = 0;
        let fName = "SHP";
        for (section = 1; section <= 5; section++) {
          const qrCanvas = document.querySelector("#qrcode" + section + " canvas");

          if (!qrCanvas || document.getElementById("text"+section).value == "") {
            skipped++;
            continue;
          }
          fName += "-" + document.getElementById("text"+section).value.toUpperCase();

          const qrDataURL = qrCanvas.toDataURL("image/png");

          for (let row = 0; row < rows; row++) {
            for (let col = 0; col < cols; col++) {
              let x = marginX + col * spacingX;
              let y = marginY + totalRow * spacingY + (section-1-skipped) * sectionSpacing;
              pdf.setFillColor(255, 255, 255);
              pdf.rect(x - borderSize, y - borderSize, finalSize, finalSize, 'F'); // White background border
              pdf.addImage(qrDataURL, 'PNG', x, y, qrSize, qrSize);
            }
            // Print the text next to the last column
            pdf.text("SHP" + document.getElementById("text" + section).value.toUpperCase() + "01", textOffsetX, marginY + totalRow * spacingY + (section-1-skipped) * sectionSpacing + finalSize / 2);
          totalRow++;
          }
        }
        pdf.save(fName + "-01.pdf");
      }
    </script>



</body></html>
